# 文件一致性校验

linux下校验文件的完整性一般使用（MD5、SHA1、PGP）等三种方式，可以校验文件是否完整或者是否被修改过。一般前两种已经足够使用。

## MD5校验

### 原理

对文件进行MD5 HASH，求出文件的MD5哈希值，通过下载后文件的MD5值和发布者提供的Md5哈希值是否一致来判断文件是否是一致的，是否被人篡改过。

该算法时间比较长，适用范围比较广泛，网站存储密码也比较经常使用，不同文件产生的MD5哈希值是唯一的，（**这一点目前已有办法通过少量的修改，而保持其值不变**）

### 使用方式

1. 计算文件的MD5值

```shell
md5sum filename
```

2. 对文件进行校验

```shell
# 将md5值写入文本文件中
md5sum filename > name.txt
# 进行校验
md5sum -c name.txt
```

可以对多个文件同时进行校验。如果两个文件的MD5的值是一致的，我们则认为该文件是一致的，是正确的。

## SHA1校验

### 原理

同MD5一样，也是通过对文件进行HASH求值，比对两个文件的HASH来判断两个文件是否一致。

SHA1 HASH求值方法可以说是MD5的一个升级版，SHA1有20位，MD5有16位。

### 使用方式

1. 求文件的SHA1的值

```shell
sha1sum filename
```

2. 对文件进行校验

```shell
#将该值写入文件中
sha1sum filename > name.txt
# 对文件进行比对
sha1sum -c name.txt
```

在对文件进行校验的时候，务必要让系统能够根据文件中提供的路径找到文件，如果文件找不到的话，是没有办法校验的。对多个文件进行校验的话，一个txt文件中保存多个值即可。