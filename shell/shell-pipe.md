###linux管道的概念pipe详解

#### 管道

管道是一种最基本的IPC机制，作用于有血缘关系的进程之间，完成数据传递。调用pipe系统函数即可创建一个管道，管道有以下既方便面的特质：
1. 其本质是一个伪文件（实际上为内核缓冲区）
2. 由两个文件描述符引用，一个表示读段，一个表示写端
3. 规定数据从管道的写段流入管道，由读端流出

原理： 管道实际上为内核使用环形队列机制，借助内核缓冲区实现

管道的一些局限性：
1. 数据可以自己读，但是不能自己写
2. 数据一旦被读取，就不在管道中存在，不可以反复读取
3. 由于管道采用半双工通信方式，因此数据只能在一个方向上流动
4. 只能在公共祖先的进程间使用通道

常见的通信方式：单工通信、半双工通信、全双工通信


### liunx中管道命令的用法

#### 管道命令

管道命令的操作符是：| ，它只能处理经由前面一个指令传出的正确输出信息，对错误的信息没有直接处理能力。然后传递给下一个命令，作为标准的输入，管理命令的输出说明：
![](./guandao.png)

其中指令1的正确输出作为指令2的输入，然后指令2的输出作为指令3的输入，指令3的输出就会直接显示，通过管道之后，指令12的结果不会显示在屏幕上。

*Attention*
- 管道命令只能处理前一个命令的正确输出，不处理错误输出
- 管道命令的右边命令必须能够接收标准输入流命令才可以

#### Example

```
# 查找指定的进程
ps -aux | grep nvidia-smi
cat log.txt | grep -n "test" | grep ms
```

